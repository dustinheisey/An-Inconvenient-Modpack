# Nightmares Mechanic

Progressing through the modpack requires you to complete many quests. Certain special quests, marked with a challenge frame in the advancement pages give you end remastered eyes as rewards, along with a dream or a nightmare when you sleep. After you get the eye you can craft another if you loose it.

The bulk of the modpack progression will give you nightmares rather than dreams. Additionally, if you choose to stay inside a billionaires dream you will have one more nightmare.

## Relevant Files

- mods - `endrem` ✔️
- endrem config - `config/endrem.toml` ✔️
- loot table modification - `kubejs/server_scripts/loot/chest.js` ✔️
- known stages eyes - `config/gamestages/known_stages.json` ✔️
- tags - `kubejs/server_scripts/tags/collections/eyes.js` ✔️
- mod staging - `kubejs/server_scripts/stages/mod.js` ✔️
- collection staging - `kubejs/server_scripts/stages/collections/eyes.js` ✔️
- eye advancements - `kubejs/server_scripts/advancements/collections/eyes.js` ✔️
- mcfunctions - `kubejs/data/im/functions/eyes/` ✔️
- eye recipes - `kubejs/server_scripts/recipes/collections/eyes.js` ✔️
- patchouli categories - `patchouli_books/journal/en_us/categories/nightmares.json` ✔️
- patchouli entries - `patchouli_books/journal/en_us/entries/nightmares/` ✔️

## Collect Requirements

Collect these items and then sleep to have your nightmare or dream and collect your eye

- cold - hearth
- exotic - natures aura eye
- guardian - gateway
- undead - forgotten nugget
- corrupted - venom sac
- magical - cinder flour
- wither - soul shard
- black - crude oil bucket
- cursed - deluxe hamburger
- lost - iron coin pile

TODO: [IM-307] document nightmares part 2
